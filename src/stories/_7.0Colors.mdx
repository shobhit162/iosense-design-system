import { Meta } from "@storybook/blocks";

<Meta title="Tokens/Colors/Base Classes" />

{/* Helper function to convert hex to rgb */}
export const hexToRgb = (hex) => {
  const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
  return result ? {
    r: parseInt(result[1], 16),
    g: parseInt(result[2], 16),
    b: parseInt(result[3], 16)
  } : null;
};

{/* Helper function to convert hex-based rgba to valid CSS rgba */}
export const convertHexRgba = (value) => {
  if (value.includes('rgba(#')) {
    const matches = value.match(/rgba\(#([A-Fa-f0-9]{6}),\s*([\d.]+)\)/);
    if (matches) {
      const hex = matches[1];
      const alpha = matches[2];
      const rgb = hexToRgb(`#${hex}`);
      return rgb ? `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${alpha})` : value;
    }
  }
  return value;
};

export const colors = {
  base: {
    red: {
      50: { name: 'global-red-50', value: '#FFE4DC' },
      100: { name: 'global-red-100', value: '#FFC8BB' },
      200: { name: 'global-red-200', value: '#FBAD9A' },
      300: { name: 'global-red-300', value: '#F5917A' },
      400: { name: 'global-red-400', value: '#ED745B' },
      500: { name: 'global-red-500', value: '#E4553D' },
      600: { name: 'global-red-600', value: '#D92D20' },
      700: { name: 'global-red-700', value: '#B22A1C' },
      800: { name: 'global-red-800', value: '#8D2619' },
      900: { name: 'global-red-900', value: '#692015' },
      1000: { name: 'global-red-1000', value: '#471A11' },
      a50: { name: 'global-red-a50', value: 'rgba(#D92D20, 0.09)' },
      a100: { name: 'global-red-a100', value: 'rgba(#D92D20, 0.18)' },
      a150: { name: 'global-red-a150', value: 'rgba(#D92D20, 0.24)' },
      a200: { name: 'global-red-a200', value: 'rgba(#D92D20, 0.32)' }
    },
    yellow: {
      50: { name: 'global-yellow-50', value: '#FFF3DF' },
      100: { name: 'global-yellow-100', value: '#FFE6C0' },
      200: { name: 'global-yellow-200', value: '#FFDAA1' },
      300: { name: 'global-yellow-300', value: '#FFCE82' },
      400: { name: 'global-yellow-400', value: '#FFC262' },
      500: { name: 'global-yellow-500', value: '#FFB63F' },
      600: { name: 'global-yellow-600', value: '#FFAB00' },
      700: { name: 'global-yellow-700', value: '#D08B0F' },
      800: { name: 'global-yellow-800', value: '#A36E14' },
      900: { name: 'global-yellow-900', value: '#785215' },
      1000: { name: 'global-yellow-1000', value: '#503713' },
      a50: { name: 'global-yellow-a50', value: 'rgba(#FFAB00, 0.09)' },
      a100: { name: 'global-yellow-a100', value: 'rgba(#FFAB00, 0.18)' },
      a150: { name: 'global-yellow-a150', value: 'rgba(#FFAB00, 0.24)' },
      a200: { name: 'global-yellow-a200', value: 'rgba(#FFAB00, 0.32)' }
    },
    aquaGreen: {
      50: { name: 'global-aqua-green-50', value: '#E7F6F1' },
      100: { name: 'global-aqua-green-100', value: '#C9EADF' },
      200: { name: 'global-aqua-green-200', value: '#AEDFD0' },
      300: { name: 'global-aqua-green-300', value: '#91D4C1' },
      400: { name: 'global-aqua-green-400', value: '#73C9B1' },
      500: { name: 'global-aqua-green-500', value: '#50BEA3' },
      600: { name: 'global-aqua-green-600', value: '#1AB394' },
      700: { name: 'global-aqua-green-700', value: '#1F937A' },
      800: { name: 'global-aqua-green-800', value: '#207460' },
      900: { name: 'global-aqua-green-900', value: '#1D5648' },
      1000: { name: 'global-aqua-green-1000', value: '#193A31' },
      a50: { name: 'global-aqua-green-a50', value: 'rgba(#1AB394, 0.09)' },
      a100: { name: 'global-aqua-green-a100', value: 'rgba(#1AB394, 0.18)' },
      a150: { name: 'global-aqua-green-a150', value: 'rgba(#1AB394, 0.24)' },
      a200: { name: 'global-aqua-green-a200', value: 'rgba(#1AB394, 0.32)' }
    },
    green: {
      50: { name: 'global-green-50', value: '#EBFAF3' },
      100: { name: 'global-green-100', value: '#DAF5E8' },
      200: { name: 'global-green-200', value: '#B6ECD1' },
      300: { name: 'global-green-300', value: '#91E38A' },
      400: { name: 'global-green-400', value: '#48D08C' },
      500: { name: 'global-green-500', value: '#00BE5F' },
      600: { name: 'global-green-600', value: '#00A251' },
      700: { name: 'global-green-700', value: '#008743' },
      800: { name: 'global-green-800', value: '#006C36' },
      900: { name: 'global-green-900', value: '#005128' },
      1000: { name: 'global-green-1000', value: '#00361B' },
      a50: { name: 'global-green-a50', value: 'rgba(#00A251, 0.09)' },
      a100: { name: 'global-green-a100', value: 'rgba(#00A251, 0.18)' },
      a150: { name: 'global-green-a150', value: 'rgba(#00A251, 0.24)' },
      a200: { name: 'global-green-a200', value: 'rgba(#00A251, 0.32)' }
    },
    skyBlue: {
      50: { name: 'global-sky-blue-50', value: '#E7F6FE' },
      100: { name: 'global-sky-blue-100', value: '#CFEDFC' },
      200: { name: 'global-sky-blue-200', value: '#A8DFFA' },
      300: { name: 'global-sky-blue-300', value: '#79CEF8' },
      400: { name: 'global-sky-blue-400', value: '#57C1F6' },
      500: { name: 'global-sky-blue-500', value: '#15B0F3' },
      600: { name: 'global-sky-blue-600', value: '#1291D0' },
      700: { name: 'global-sky-blue-700', value: '#0F78AD' },
      800: { name: 'global-sky-blue-800', value: '#0C608A' },
      900: { name: 'global-sky-blue-900', value: '#094868' },
      1000: { name: 'global-sky-blue-1000', value: '#063145' },
      a50: { name: 'global-sky-blue-a50', value: 'rgba(#1291D0, 0.09)' },
      a100: { name: 'global-sky-blue-a100', value: 'rgba(#1291D0, 0.18)' },
      a150: { name: 'global-sky-blue-a150', value: 'rgba(#1291D0, 0.24)' },
      a200: { name: 'global-sky-blue-a200', value: 'rgba(#1291D0, 0.32)' }
    },
    blue: {
      50: { name: 'global-blue-50', value: '#F5F8FF' },
      100: { name: 'global-blue-100', value: '#D8E4FD' },
      200: { name: 'global-blue-200', value: '#B4CDFD' },
      300: { name: 'global-blue-300', value: '#75A3FF' },
      400: { name: 'global-blue-400', value: '#4D7FFF' },
      500: { name: 'global-blue-500', value: '#305EFF' },
      600: { name: 'global-blue-600', value: '#2950DA' },
      700: { name: 'global-blue-700', value: '#2243B6' },
      800: { name: 'global-blue-800', value: '#1B3591' },
      900: { name: 'global-blue-900', value: '#14286D' },
      1000: { name: 'global-blue-1000', value: '#0D1A48' },
      a50: { name: 'global-blue-a50', value: 'rgba(#305EFF, 0.09)' },
      a100: { name: 'global-blue-a100', value: 'rgba(#305EFF, 0.18)' },
      a150: { name: 'global-blue-a150', value: 'rgba(#305EFF, 0.24)' },
      a200: { name: 'global-blue-a200', value: 'rgba(#305EFF, 0.32)' }
    },
    pink: {
      50: { name: 'global-pink-50', value: '#FFE5EE' },
      100: { name: 'global-pink-100', value: '#FFCADD' },
      200: { name: 'global-pink-200', value: '#FFAFCC' },
      300: { name: 'global-pink-300', value: '#FF93BC' },
      400: { name: 'global-pink-400', value: '#FD74AC' },
      500: { name: 'global-pink-500', value: '#F9519C' },
      600: { name: 'global-pink-600', value: '#F3168D' },
      700: { name: 'global-pink-700', value: '#C71E73' },
      800: { name: 'global-pink-800', value: '#9C205B' },
      900: { name: 'global-pink-900', value: '#731E45' },
      1000: { name: 'global-pink-1000', value: '#4D192F' },
      a50: { name: 'global-pink-a50', value: 'rgba(#F3168D, 0.09)' },
      a100: { name: 'global-pink-a100', value: 'rgba(#F3168D, 0.18)' },
      a150: { name: 'global-pink-a150', value: 'rgba(#F3168D, 0.24)' },
      a200: { name: 'global-pink-a200', value: 'rgba(#F3168D, 0.32)' }
    },
    purple: {
      50: { name: 'global-purple-50', value: '#F7E2FE' },
      100: { name: 'global-purple-100', value: '#EDC6FE' },
      200: { name: 'global-purple-200', value: '#E3A9FC' },
      300: { name: 'global-purple-300', value: '#D78BFA' },
      400: { name: 'global-purple-400', value: '#CB6CF8' },
      500: { name: 'global-purple-500', value: '#BD4AF6' },
      600: { name: 'global-purple-600', value: '#AD16F3' },
      700: { name: 'global-purple-700', value: '#8F1BC6' },
      800: { name: 'global-purple-800', value: '#711C9B' },
      900: { name: 'global-purple-900', value: '#551B72' },
      1000: { name: 'global-purple-1000', value: '#3A174C' },
      a50: { name: 'global-purple-a50', value: 'rgba(#8F1BC6, 0.09)' },
      a100: { name: 'global-purple-a100', value: 'rgba(#8F1BC6, 0.18)' },
      a150: { name: 'global-purple-a150', value: 'rgba(#8F1BC6, 0.24)' },
      a200: { name: 'global-purple-a200', value: 'rgba(#8F1BC6, 0.32)' }
    },
    charcoalBlue: {
      50: { name: 'global-charcoal-blue-50', value: '#E3E5E7' },
      100: { name: 'global-charcoal-blue-100', value: '#C7CBD0' },
      200: { name: 'global-charcoal-blue-200', value: '#ACB2B9' },
      300: { name: 'global-charcoal-blue-300', value: '#919AA3' },
      400: { name: 'global-charcoal-blue-400', value: '#78828D' },
      500: { name: 'global-charcoal-blue-500', value: '#5F6B78' },
      600: { name: 'global-charcoal-blue-600', value: '#465564' },
      700: { name: 'global-charcoal-blue-700', value: '#2F4050' },
      800: { name: 'global-charcoal-blue-800', value: '#25313C' },
      900: { name: 'global-charcoal-blue-900', value: '#1B232A' },
      1000: { name: 'global-charcoal-blue-1000', value: '#111519' },
      a50: { name: 'global-charcoal-blue-a50', value: 'rgba(#1F5C7A, 0.09)' },
      a100: { name: 'global-charcoal-blue-a100', value: 'rgba(#1F5C7A, 0.18)' },
      a150: { name: 'global-charcoal-blue-a150', value: 'rgba(#1F5C7A, 0.24)' },
      a200: { name: 'global-charcoal-blue-a200', value: 'rgba(#1F5C7A, 0.32)' }
    },
    neutral: {
      10: { name: 'global-neutral-10', value: '#F4F5F6' },
      20: { name: 'global-neutral-20', value: '#EEEEEE' },
      30: { name: 'global-neutral-30', value: '#E2E2E2' },
      40: { name: 'global-neutral-40', value: '#D3D3D3' },
      50: { name: 'global-neutral-50', value: '#C6C6C6' },
      100: { name: 'global-neutral-100', value: '#BCBCBC' },
      200: { name: 'global-neutral-200', value: '#ABABAB' },
      300: { name: 'global-neutral-300', value: '#909090' },
      400: { name: 'global-neutral-400', value: '#777777' },
      500: { name: 'global-neutral-500', value: '#646465' },
      600: { name: 'global-neutral-600', value: '#464646' },
      700: { name: 'global-neutral-700', value: '#2B2B2B' },
      800: { name: 'global-neutral-800', value: '#252525' },
      900: { name: 'global-neutral-900', value: '#1B1B1B' },
      1000: { name: 'global-neutral-1000', value: '#111111' }
    },
    black: {
      main: { name: 'global-black', value: '#000000' }
    },
    white: {
      main: { name: 'global-white', value: '#FFFFFF' }
    },
  },
};

<div className="sb-container">
  <div className="sb-section-title">
    # Colors
    These tokens should be used for consistent color styling across applications.
    <p><b>Note:</b> Colors are organized into base colors, surface colors, and semantic colors for different purposes.</p>
  </div>

  <div className="sb-section">
    <div className="sb-colors-demo">
      <h2>Base Colors</h2>
      {Object.entries(colors.base).map(([colorName, shades]) => (
        <div key={colorName} className="color-section">
          <h3>{colorName.replace(/([A-Z])/g, ' $1').trim()}</h3>
          <div className="color-grid">
            {Object.entries(shades).map(([shade, { name, value }]) => (
              <div key={shade} className="color-item">
                <div className="color-preview">
                <p style={{color: convertHexRgba(value)}}>Color Example</p>
                </div>
                <div className="color-info">
                  <code>{name}</code>
                  <span>{value}</span>
                </div>
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</div>

<style>
  {`
    .sb-container {
      margin-bottom: 48px;
    }

    .sb-section-title {
      margin-bottom: 32px;
    }

    .sb-colors-demo {
      width: 100%;
    }

    h2 {
      margin: 32px 0 16px;
      padding-bottom: 8px;
      border-bottom: 1px solid #E6E6E6;
    }

    h3 {
      margin-top: 24px;
      margin-bottom: 16px;
    }

    .color-section {
      margin-bottom: 32px;
    }

    .color-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 24px;
    }

    .color-item {
      border: 1px solid #E6E6E6;
      border-radius: 4px;
      overflow: hidden;
    }

    .color-preview {
      height: 100px;
      border-bottom: 1px solid #E6E6E6;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .color-info {
      padding: 12px;
      background: #FFFFFF;
    }

    .color-info code {
      display: block;
      margin-bottom: 4px;
      font-family: monospace;
      font-size: 12px;
      color: #666;
    }

    .color-info span {
      font-size: 14px;
      color: #333;
    }

    .color-item:hover {
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
  `}
</style> 